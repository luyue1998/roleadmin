{"ast":null,"code":"import { AUTH_CHANGE, PERMISSION_CHANGE, CURRENT_CHANGE } from './actionTypes';\nimport { handleActions } from 'redux-actions';\nimport Index from '../pages/User/Home';\nconst defaultState = {\n  authed: false,\n  permissionList: [{\n    path: '/user/index',\n    pathName: 'index',\n    name: '首页',\n    component: Index,\n    icon: 'pie-chart'\n  }],\n  currentList: [],\n  avatar: '',\n  name: ''\n};\nexport const statusReducer = handleActions({\n  [AUTH_CHANGE]: (state, action) => {\n    const newState = JSON.parse(JSON.stringify(state));\n    newState.authed = action.payload.authStatus;\n\n    if (newState.authed !== null) {\n      localStorage.setItem('authed', newState.authed);\n    } else {\n      newState.permissionList = [{\n        path: '/user/index',\n        pathName: 'index',\n        name: '首页',\n        component: Index,\n        icon: 'pie-chart'\n      }];\n      localStorage.removeItem('authed');\n    }\n\n    return newState;\n  },\n  [PERMISSION_CHANGE]: (state, action) => {\n    const newState = JSON.parse(JSON.stringify(state));\n    newState.permissionList = action.payload.permissionList;\n    newState.currentList = action.payload.currentList;\n    newState.avatar = action.payload.avatar;\n    newState.name = action.payload.name;\n    return newState;\n  },\n  [CURRENT_CHANGE]: (state, action) => {\n    const newState = JSON.parse(JSON.stringify(state));\n    newState.currentList = action.payload.currentList;\n    return newState;\n  }\n}, defaultState);\nexport default statusReducer;","map":{"version":3,"sources":["D:\\react-admin-master\\src\\store\\reducer.js"],"names":["AUTH_CHANGE","PERMISSION_CHANGE","CURRENT_CHANGE","handleActions","Index","defaultState","authed","permissionList","path","pathName","name","component","icon","currentList","avatar","statusReducer","state","action","newState","JSON","parse","stringify","payload","authStatus","localStorage","setItem","removeItem"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,iBAAtB,EAAwCC,cAAxC,QAA8D,eAA9D;AACA,SAASC,aAAT,QAA8B,eAA9B;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,MAAM,EAAE,KADS;AAEjBC,EAAAA,cAAc,EAAC,CACX;AACIC,IAAAA,IAAI,EAAE,aADV;AAEIC,IAAAA,QAAQ,EAAC,OAFb;AAGIC,IAAAA,IAAI,EAAC,IAHT;AAIIC,IAAAA,SAAS,EAACP,KAJd;AAKIQ,IAAAA,IAAI,EAAC;AALT,GADW,CAFE;AAWjBC,EAAAA,WAAW,EAAC,EAXK;AAYjBC,EAAAA,MAAM,EAAC,EAZU;AAajBJ,EAAAA,IAAI,EAAC;AAbY,CAArB;AAgBA,OAAO,MAAMK,aAAa,GAAGZ,aAAa,CACtC;AACI,GAACH,WAAD,GAAc,CAACgB,KAAD,EAAQC,MAAR,KAAkB;AAC5B,UAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeL,KAAf,CAAX,CAAjB;AACAE,IAAAA,QAAQ,CAACZ,MAAT,GAAkBW,MAAM,CAACK,OAAP,CAAeC,UAAjC;;AACA,QAAGL,QAAQ,CAACZ,MAAT,KAAoB,IAAvB,EAA4B;AACxBkB,MAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA8BP,QAAQ,CAACZ,MAAvC;AACH,KAFD,MAEK;AACDY,MAAAA,QAAQ,CAACX,cAAT,GAA0B,CACtB;AACIC,QAAAA,IAAI,EAAE,aADV;AAEIC,QAAAA,QAAQ,EAAC,OAFb;AAGIC,QAAAA,IAAI,EAAC,IAHT;AAIIC,QAAAA,SAAS,EAACP,KAJd;AAKIQ,QAAAA,IAAI,EAAC;AALT,OADsB,CAA1B;AASAY,MAAAA,YAAY,CAACE,UAAb,CAAwB,QAAxB;AACH;;AAED,WAAOR,QAAP;AACH,GApBL;AAqBI,GAACjB,iBAAD,GAAoB,CAACe,KAAD,EAAQC,MAAR,KAAkB;AAClC,UAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeL,KAAf,CAAX,CAAjB;AACAE,IAAAA,QAAQ,CAACX,cAAT,GAA0BU,MAAM,CAACK,OAAP,CAAef,cAAzC;AACAW,IAAAA,QAAQ,CAACL,WAAT,GAAuBI,MAAM,CAACK,OAAP,CAAeT,WAAtC;AACAK,IAAAA,QAAQ,CAACJ,MAAT,GAAkBG,MAAM,CAACK,OAAP,CAAeR,MAAjC;AACAI,IAAAA,QAAQ,CAACR,IAAT,GAAgBO,MAAM,CAACK,OAAP,CAAeZ,IAA/B;AACA,WAAOQ,QAAP;AACH,GA5BL;AA6BI,GAAChB,cAAD,GAAiB,CAACc,KAAD,EAAQC,MAAR,KAAkB;AAC/B,UAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeL,KAAf,CAAX,CAAjB;AACAE,IAAAA,QAAQ,CAACL,WAAT,GAAuBI,MAAM,CAACK,OAAP,CAAeT,WAAtC;AACA,WAAOK,QAAP;AACH;AAjCL,CADsC,EAoCpCb,YApCoC,CAAnC;AAsCP,eAAeU,aAAf","sourcesContent":["import { AUTH_CHANGE, PERMISSION_CHANGE,CURRENT_CHANGE } from './actionTypes'\nimport { handleActions } from 'redux-actions'\nimport Index from '../pages/User/Home'\nconst defaultState = {\n    authed: false,\n    permissionList:[\n        {\n            path: '/user/index',\n            pathName:'index',\n            name:'首页',\n            component:Index,\n            icon:'pie-chart'\n        }\n    ],\n    currentList:[],\n    avatar:'',\n    name:''\n};\n\nexport const statusReducer = handleActions( \n    {\n        [AUTH_CHANGE]:(state, action)=> {\n            const newState = JSON.parse(JSON.stringify(state))\n            newState.authed = action.payload.authStatus\n            if(newState.authed !== null){\n                localStorage.setItem('authed',newState.authed)\n            }else{\n                newState.permissionList = [\n                    {\n                        path: '/user/index',\n                        pathName:'index',\n                        name:'首页',\n                        component:Index,\n                        icon:'pie-chart'\n                    }\n                ]\n                localStorage.removeItem('authed')\n            }\n            \n            return newState;\n        },\n        [PERMISSION_CHANGE]:(state, action)=> {\n            const newState = JSON.parse(JSON.stringify(state))\n            newState.permissionList = action.payload.permissionList\n            newState.currentList = action.payload.currentList\n            newState.avatar = action.payload.avatar\n            newState.name = action.payload.name\n            return newState;\n        },\n        [CURRENT_CHANGE]:(state, action)=> {\n            const newState = JSON.parse(JSON.stringify(state))\n            newState.currentList = action.payload.currentList\n            return newState;\n        }\n\n    },defaultState)\n\nexport default statusReducer\n\n"]},"metadata":{},"sourceType":"module"}