{"ast":null,"code":"import \"antd/lib/table/style/css\";\nimport _Table from \"antd/lib/table\";\nvar _jsxFileName = \"D:\\\\react-admin-master\\\\src\\\\common\\\\Etable\\\\index.js\";\nimport React from 'react';\n\nclass Etable extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.onSelectChange = (selectedRowKeys, selectedRows) => {\n      this.props.updateSelectedItem(selectedRowKeys, selectedRows, this.props.that);\n    };\n\n    this.onRowClick = (index, record) => {\n      /**\n       * @param {* 勾选的类型} type radio是单选\n       */\n      const type = this.props.type;\n\n      if (type === 'radio') {\n        this.onSelectChange([index], [record]);\n      } else {\n        let selectedRowKeys = [...this.props.rowSelection.selectedRowKeys];\n        let selectedRows = [...this.props.rowSelection.selectedRows];\n\n        if (selectedRowKeys.includes(index)) {\n          var selectIndex = selectedRowKeys.findIndex(item => {\n            return index === item;\n          });\n          selectedRowKeys.splice(selectIndex, 1);\n          selectedRows.splice(selectIndex, 1);\n        } else {\n          selectedRowKeys.push(index);\n          selectedRows.push(record);\n        }\n\n        this.onSelectChange(selectedRowKeys, selectedRows);\n      }\n    };\n  }\n\n  render() {\n    //是否分页\n    let pagination = this.props.pagination;\n\n    if (!pagination || pagination === false) {\n      pagination = false;\n    } //是否需要勾选\n\n\n    let rowSelection = this.props.rowSelection;\n    rowSelection.type = this.props.type === 'radio' ? 'radio' : 'checkbox';\n    let onRow;\n\n    if (!rowSelection) {\n      rowSelection = null;\n    } else {\n      rowSelection.onChange = this.onSelectChange;\n\n      onRow = (record, index) => {\n        return {\n          onClick: () => {\n            this.onRowClick(index, record);\n          }\n        };\n      };\n    }\n\n    return React.createElement(_Table, {\n      dataSource: this.props.dataSource //表格内容\n      ,\n      columns: this.props.columns //表头数据\n      ,\n      pagination: pagination //分页\n      ,\n      rowSelection: rowSelection //是否勾选以及是单选还是多选\n      ,\n      onRow: onRow //表格单行点击\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default Etable;","map":{"version":3,"sources":["D:\\react-admin-master\\src\\common\\Etable\\index.js"],"names":["React","Etable","Component","onSelectChange","selectedRowKeys","selectedRows","props","updateSelectedItem","that","onRowClick","index","record","type","rowSelection","includes","selectIndex","findIndex","item","splice","push","render","pagination","onRow","onChange","onClick","dataSource","columns"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,MAAN,SAAqBD,KAAK,CAACE,SAA3B,CAAqC;AAAA;AAAA;;AAAA,SAEjCC,cAFiC,GAEhB,CAACC,eAAD,EAAiBC,YAAjB,KAAiC;AAC9C,WAAKC,KAAL,CAAWC,kBAAX,CAA8BH,eAA9B,EAA8CC,YAA9C,EAA2D,KAAKC,KAAL,CAAWE,IAAtE;AACH,KAJgC;;AAAA,SAKjCC,UALiC,GAKpB,CAACC,KAAD,EAAOC,MAAP,KAAgB;AACzB;;;AAGA,YAAMC,IAAI,GAAG,KAAKN,KAAL,CAAWM,IAAxB;;AACA,UAAGA,IAAI,KAAI,OAAX,EAAmB;AACf,aAAKT,cAAL,CAAoB,CAACO,KAAD,CAApB,EAA4B,CAACC,MAAD,CAA5B;AACH,OAFD,MAEK;AACD,YAAIP,eAAe,GAAG,CAAC,GAAG,KAAKE,KAAL,CAAWO,YAAX,CAAwBT,eAA5B,CAAtB;AACA,YAAIC,YAAY,GAAG,CAAC,GAAG,KAAKC,KAAL,CAAWO,YAAX,CAAwBR,YAA5B,CAAnB;;AACA,YAAGD,eAAe,CAACU,QAAhB,CAAyBJ,KAAzB,CAAH,EAAmC;AAC/B,cAAIK,WAAW,GAAGX,eAAe,CAACY,SAAhB,CAA0BC,IAAI,IAAE;AAC9C,mBAAOP,KAAK,KAAGO,IAAf;AACH,WAFiB,CAAlB;AAGAb,UAAAA,eAAe,CAACc,MAAhB,CAAuBH,WAAvB,EAAmC,CAAnC;AACAV,UAAAA,YAAY,CAACa,MAAb,CAAoBH,WAApB,EAAgC,CAAhC;AACH,SAND,MAMK;AACDX,UAAAA,eAAe,CAACe,IAAhB,CAAqBT,KAArB;AACAL,UAAAA,YAAY,CAACc,IAAb,CAAkBR,MAAlB;AACH;;AACD,aAAKR,cAAL,CAAoBC,eAApB,EAAoCC,YAApC;AACH;AAGJ,KA7BgC;AAAA;;AA8BjCe,EAAAA,MAAM,GAAE;AAEJ;AACA,QAAIC,UAAU,GAAG,KAAKf,KAAL,CAAWe,UAA5B;;AACA,QAAG,CAACA,UAAD,IAAeA,UAAU,KAAK,KAAjC,EAAuC;AACnCA,MAAAA,UAAU,GAAG,KAAb;AACH,KANG,CAQJ;;;AACA,QAAIR,YAAY,GAAG,KAAKP,KAAL,CAAWO,YAA9B;AACAA,IAAAA,YAAY,CAACD,IAAb,GAAoB,KAAKN,KAAL,CAAWM,IAAX,KAAkB,OAAlB,GAA0B,OAA1B,GAAkC,UAAtD;AACA,QAAIU,KAAJ;;AACA,QAAG,CAACT,YAAJ,EAAiB;AACbA,MAAAA,YAAY,GAAG,IAAf;AACH,KAFD,MAEK;AACDA,MAAAA,YAAY,CAACU,QAAb,GAAwB,KAAKpB,cAA7B;;AACAmB,MAAAA,KAAK,GAAG,CAACX,MAAD,EAAQD,KAAR,KAAiB;AACrB,eAAO;AACHc,UAAAA,OAAO,EAAC,MAAI;AACR,iBAAKf,UAAL,CAAgBC,KAAhB,EAAsBC,MAAtB;AACH;AAHE,SAAP;AAKH,OAND;AAOH;;AAGD,WACI;AACI,MAAA,UAAU,EAAE,KAAKL,KAAL,CAAWmB,UAD3B,CACsC;AADtC;AAEI,MAAA,OAAO,EAAE,KAAKnB,KAAL,CAAWoB,OAFxB,CAEgC;AAFhC;AAGI,MAAA,UAAU,EAAEL,UAHhB,CAG2B;AAH3B;AAII,MAAA,YAAY,EAAER,YAJlB,CAI+B;AAJ/B;AAKI,MAAA,KAAK,EAAES,KALX,CAKiB;AALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AASH;;AAjEgC;;AAqErC,eAAerB,MAAf","sourcesContent":["import React from 'react'\nimport { Table } from 'antd'\nclass Etable extends React.Component {\n\n    onSelectChange = (selectedRowKeys,selectedRows)=> {\n        this.props.updateSelectedItem(selectedRowKeys,selectedRows,this.props.that)\n    }\n    onRowClick = (index,record)=>{\n        /**\n         * @param {* 勾选的类型} type radio是单选\n         */\n        const type = this.props.type\n        if(type=== 'radio'){\n            this.onSelectChange([index],[record])\n        }else{\n            let selectedRowKeys = [...this.props.rowSelection.selectedRowKeys]\n            let selectedRows = [...this.props.rowSelection.selectedRows]\n            if(selectedRowKeys.includes(index)){\n                var selectIndex = selectedRowKeys.findIndex(item=>{\n                    return index===item\n                })\n                selectedRowKeys.splice(selectIndex,1)\n                selectedRows.splice(selectIndex,1)\n            }else{\n                selectedRowKeys.push(index)\n                selectedRows.push(record)\n            }\n            this.onSelectChange(selectedRowKeys,selectedRows)\n        }\n\n        \n    }\n    render(){\n\n        //是否分页\n        let pagination = this.props.pagination\n        if(!pagination || pagination === false){\n            pagination = false\n        }\n\n        //是否需要勾选\n        let rowSelection = this.props.rowSelection\n        rowSelection.type = this.props.type==='radio'?'radio':'checkbox'\n        let onRow\n        if(!rowSelection){\n            rowSelection = null\n        }else{\n            rowSelection.onChange = this.onSelectChange;\n            onRow = (record,index) =>{\n                return {\n                    onClick:()=>{\n                        this.onRowClick(index,record)\n                    }\n                }\n            }\n        }\n\n\n        return (\n            <Table \n                dataSource={this.props.dataSource}//表格内容\n                columns={this.props.columns}//表头数据\n                pagination={pagination}//分页\n                rowSelection={rowSelection}//是否勾选以及是单选还是多选\n                onRow={onRow}//表格单行点击\n            />\n        )\n    }\n\n}\n\nexport default Etable "]},"metadata":{},"sourceType":"module"}